<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="style.css">
	<title>Dynamic Table</title>

</head>
<body>
	<!-- <script type="module" src="linear_regression.js"></script>  -->
	<!-- <script src="script.js"></script> -->


	<div class="container">
		<button style="padding: 30 30 30 30;" onclick="runMain()">TEST BUTTON</button>

		<h1>Use Either the form or the Add row button to create the desired tables</h1>


		<h1>Fix the form input, if somelements in the table already exists</h1>

		<h1>Dynamic Table Inputs</h1>
		<form>
			<label for="rows">Number of Rows:</label>
			<input type="number" id="rows" name="rows" min="1"><br><br>
			
			<!-- <label for="columns">Number of Columns:</label>
			<input type="number" id="columns" name="columns" min="1"><br><br> -->
			<input type="button" value="Create Table" onclick="createTable()">
			<div id="formError" class="errorButtonStyle"></div>
		</form>
		<br>
		<div id="table-container"></div>

		<h1>Generated Table</h1>
		<button class="button" onclick="addRow()">Add Row</button>
		<!-- <button class="button" onclick="addColumn()">Add Column</button> -->
		<table id="table">
			<thead>
				<tr>
					<th>Hours Studied</th>
					<th>Performance</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input name="hoursVal" type="text" placeholder="5"></td>
					<td><input name="perfVal" type="text" placeholder="-0.5"></td>

				</tr>
				<tr>
					<td><input  name="hoursVal" type="text" placeholder="60"></td>
					<td><input name="perfVal" type="text" placeholder="10"></td>
				</tr>
			</tbody>
			
			
		</table>
		<br><br>
		<input type="button" value="Create Table" onclick="testKeysInputTable()"> <br><br>
		<input type="button" value="Run on Click" onclick="runOnClick()"> <br><br>

    


	</div>

	<div id="arrayOutput">
		<h3>Input XHoursArray Array - <span id="XHoursArray"></span> </h3>
		<h3>Input YPerfArray Array - <span id="YPerfArray"></span></h3>


	</div>


	<canvas id="myChart"></canvas>

	<!-- <script src="script.js"></script> -->

<!-- <script type="module" src="./script2.js"></script> -->

	<script src="script.js"></script>

	<script type="module" src="./test_module_start.js"></script>
	<script type="module" src="./checkImport.js"></script>
	<script  >
    function runOnClick(){
      console.log("Defined in the same context as of runOnClick")
    }



  </script>






	<script>
    // import {exportThisMain} from './test_module_start.js'

		function testKeysInputTable(){
    // With new input, Empty the previous one
    if(XHoursVals.length != 0 || YPerfVals.length != 0){
        XHoursVals = []
        YPerfVals = []
    }

    let hoursArray = document.getElementsByName("hoursVal")
    let perfArray = document.getElementsByName("perfVal")

    console.log(hoursArray)
    console.log(perfArray)


    // Fill the input X array
    for(let i = 0; i < hoursArray.length; i++){
        
        let currVal = hoursArray[i].value;
        if(currVal == ""){
            console.log("Can't do it ");
            alert("Some of the Fields are missing, Please Fill all")
            return;
        }


        XHoursVals.push(currVal);
        console.log("currVal", currVal)


    }

    // Fill the input Y array
    for(let y = 0; y < perfArray.length; y++){
        let currVal = perfArray[y].value;

        if(currVal == ""){
            console.log("Can't do it ")
            alert("Some of the Fields are missing, Please Fill all");

            return;
        }

        YPerfVals.push(currVal);
        // console.log(currVal)
    }

    console.log("XHoursVals", XHoursVals);
    console.log("YPerfVals", YPerfVals);

    // Defined in the main file but ran here
    // (Also worked)
    // runMain();
    console.log("sfdsfsadf")

    // As soon as you get the input invoke another function 
    // to do the calculations

    // There should be a connecting function here
    // 

    let spanHTMLElementHour = document.getElementById("XHoursArray");
    spanHTMLElementHour.innerHTML = XHoursVals;

    let spanHTMLElementPerf = document.getElementById("YPerfArray");
    spanHTMLElementPerf.innerHTML = YPerfVals;

	// Import this from a module that takes two inputs
    // exportThisMain();
    // NameThisMain();




}

	</script>

	<!-- <script type="module" src="linear_regression.js"></script> -->
	
	<!-- eventMethods don't get triggered inside a "Module"-->
	<!-- <script>

	function runMain(){
		console.log("Run main through outside of module");
	}
		
		
		
	
	</script> -->

</body>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- <script type="module" src="linear_regression.js"></script> -->
<!-- <script src="./module1.js"></script> -->
<!-- <script>

	greet("fsdaf");

</script> -->
<script>
	console.log("Inside the chartjs script")
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
        datasets: [{
          label: 'My Dataset',
          data: [10, 20, 30, 40, 50, 60, 70],
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 1
        }]
      },
      options: {
        responsive: false,
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero: true
            }
          }]
        }
      }
    });
  </script>
</html>